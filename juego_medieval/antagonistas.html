<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Antagonistas 3D — UI Medieval</title>
  <!-- Tipografías medievales -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Cardo:wght@400;700&display=swap" rel="stylesheet">
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>

  <style>
  :root{
    --bg:#0b0b0d; --panel:#121217; --stroke:#2a2a36;
    --gold:#caa86b; --gold-soft:rgba(202,168,107,.35);
    --text:#e9e6dc; --muted:#bfb8a8;
    --blood:#b13c3c; --mana:#3c69b1; --wind:#67b16d;

    /* para botones medievales */
    --metal-1:#80786f; --metal-2:#2a241e; --edge-light:#fdf6e7;
  }

  html, body{
    height:100vh; margin:0; overflow:hidden;  /* 0 scroll */
    background: radial-gradient(1200px 700px at 70% 20%, #141419 0%, #0b0b0d 60%, #07070a 100%);
    color:var(--text);
    font-family: "Cardo", Georgia, serif;
  }

  /* Layout fijo: columna de retratos + visor */
  .app{ display:grid; grid-template-columns:180px 1fr; height:100vh; }

  /* Columna de retratos estilo vitral */
  .tabla-personajes-malos{
    background: linear-gradient(180deg, #13131a 0%, #0f0f14 100%);
    border-right:1px solid #2b2b37;
    padding:14px 10px; display:grid; gap:12px; align-content:start;
    position:relative;
  }
  .tabla-personajes-malos::before{
    content:""; position:absolute; inset:0;
    background:
      radial-gradient(400px 200px at 50% -40%, rgba(202,168,107,.08), transparent 70%),
      repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 2px, transparent 2px 6px);
    pointer-events:none;
  }
  .perfil{
    width:105px; height:105px; object-fit:cover; display:block; margin:0 auto; cursor:pointer;
    border-radius:14px;
    border:1px solid rgba(202,168,107,.35);
    box-shadow:
      inset 0 0 30px rgba(0,0,0,.6),
      0 0 0 2px rgba(0,0,0,.6),
      0 0 14px rgba(202,168,107,.12);
    transition:transform .14s ease, filter .14s ease, box-shadow .14s ease, border-color .14s ease;
    filter: saturate(.9) contrast(.95) brightness(.95);
  }
  .perfil:hover{
    transform: translateY(-3px);
    filter: saturate(1) contrast(1) brightness(1);
    box-shadow:
      inset 0 0 20px rgba(0,0,0,.5),
      0 0 0 2px rgba(202,168,107,.45),
      0 0 22px rgba(202,168,107,.22);
  }
  .perfil.activo{
    border-color: var(--gold);
    box-shadow:
      inset 0 0 16px rgba(0,0,0,.55),
      0 0 0 2px rgba(202,168,107,.65),
      0 0 26px rgba(202,168,107,.32);
  }

  /* VISOR en dos filas (3D arriba, HUD abajo) */
  .viewer-area{
    position:relative; display:grid;
    grid-template-rows: 1fr 190px; /* HUD más alto tipo juego */
    overflow:hidden;
  }

  /* Video de fondo */
  .bg-video{
    grid-row:1 / -1; grid-column:1;
    position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
    filter: contrast(1.05) saturate(1.05) brightness(.9);
    z-index:0; pointer-events:none;
  }
  /* Vignette */
  .viewer-area::before{
    content:""; position:absolute; inset:-2%;
    background: radial-gradient(1200px 500px at 50% 10%, transparent 0%, rgba(0,0,0,.25) 70%, rgba(0,0,0,.65) 100%),
                radial-gradient(700px 700px at -10% 120%, rgba(202,168,107,.10), transparent 60%),
                radial-gradient(700px 700px at 110% 120%, rgba(202,168,107,.10), transparent 60%);
    z-index:0; pointer-events:none;
  }

  /* 3D arriba */
  model-viewer{
    grid-row:1/2; grid-column:1;
    position:relative; width:100%; height:100%;
    display:none; background:transparent; --poster-color:transparent;
    z-index:1;
  }
  model-viewer.visible{ display:block; }

  /* ===== HUD MEDIEVAL ABAJO ===== */
  .hud{
    grid-row:2/3; grid-column:1;
    display:grid; grid-template-columns: 320px 1fr 320px; gap:18px; align-items:center;
    padding:14px 18px; z-index:2;
    background:
      radial-gradient(120% 200% at 50% 0%, rgba(38,30,20,.78) 0%, rgba(22,17,12,.82) 60%, rgba(12,10,8,.92) 100%),
      repeating-linear-gradient(135deg, rgba(255,255,255,.025) 0 2px, rgba(0,0,0,.02) 2px 4px);
    border-top: 2px solid rgba(202,168,107,.45);
    position:relative;
  }
  /* Marco metálico con remaches */
  .hud::before, .hud::after{
    content:""; position:absolute; left:0; right:0; height:14px;
    background:
      linear-gradient(180deg, rgba(255,255,255,.15), rgba(255,255,255,0)),
      linear-gradient(90deg, rgba(202,168,107,.35), rgba(202,168,107,.1) 20%, rgba(202,168,107,.1) 80%, rgba(202,168,107,.35));
    filter: blur(.2px);
    pointer-events:none;
  }
  .hud::before{ top:-2px; border-top:1px solid rgba(255,255,255,.1); }
  .hud::after{ bottom:-2px; border-bottom:1px solid rgba(0,0,0,.6); opacity:.4; }
  /* remaches */
  .rivets{
    position:absolute; inset:4px 8px; pointer-events:none; z-index:3;
    background:
      radial-gradient(circle at 12px 6px, rgba(255,255,255,.35) 0 2px, rgba(0,0,0,.7) 3px, transparent 4px) left top / 36px 18px repeat-x,
      radial-gradient(circle at calc(100% - 12px) 6px, rgba(255,255,255,.35) 0 2px, rgba(0,0,0,.7) 3px, transparent 4px) right top / 36px 18px repeat-x;
    mask: linear-gradient(#000, #000) top/100% 18px no-repeat, linear-gradient(#000, #000) bottom/100% 0 no-repeat;
  }

  /* Columna izquierda: Nombre y rol */
  .info-left .name{
    font-family: "Cinzel", serif;
    font-weight:900; letter-spacing:.5px; font-size:26px;
    color: var(--gold);
    text-shadow: 0 0 10px rgba(202,168,107,.15), 0 0 2px rgba(255,255,255,.25);
  }
  .info-left .role{
    margin-top:4px; font-size:13px; color: var(--muted); letter-spacing:.4px;
    text-transform: uppercase;
  }

  /* Centro: pergamino de descripción */
  .scroll{
    position:relative; padding:10px 14px; border-radius:8px;
    color:#f0ede5; font-size:14px; line-height:1.35;
    background:
      radial-gradient(140% 180% at 10% 0%, rgba(255,244,210,.10), rgba(0,0,0,0) 60%),
      linear-gradient(180deg, rgba(70,54,32,.55), rgba(42,33,21,.65) 60%, rgba(26,20,14,.8));
    border:1px solid rgba(202,168,107,.28);
    box-shadow: inset 0 0 30px rgba(0,0,0,.35), 0 0 20px rgba(202,168,107,.08);
  }
  .scroll::before, .scroll::after{
    content:""; position:absolute; top:-8px; bottom:-8px; width:10px;
    background:
      radial-gradient(10px 10px at 50% 50%, rgba(0,0,0,.5) 30%, rgba(0,0,0,0) 70%),
      linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,0));
    filter: blur(.4px);
  }
  .scroll::before{ left:-6px; }
  .scroll::after{ right:-6px; transform: scaleX(-1); }

  /* Derecha: barras con íconos */
  .stats{ display:grid; gap:10px; }
  .stat{
    display:grid; grid-template-columns: 26px 54px 1fr 48px; align-items:center; gap:8px;
    font-size:13px; color:#e9e6dc;
  }
  .icon{ width:22px; height:22px; filter: drop-shadow(0 0 4px rgba(202,168,107,.18)); }
  .label{ font-variant: small-caps; color:var(--muted); letter-spacing:.6px; }
  .bar{ height:12px; background:#1e1f26; border-radius:999px; overflow:hidden; box-shadow: inset 0 0 6px rgba(0,0,0,.7); }
  .bar > b{
    display:block; height:100%; width:0%;
    border-radius:999px; transition:width .22s ease;
    box-shadow: 0 0 14px currentColor;
  }
  .v-fue{ color: var(--blood); background: linear-gradient(90deg, rgba(177,60,60,.45), rgba(177,60,60,1)); }
  .v-mag{ color: var(--mana);  background: linear-gradient(90deg, rgba(60,105,177,.45), rgba(60,105,177,1)); }
  .v-agi{ color: var(--wind);  background: linear-gradient(90deg, rgba(103,177,109,.45), rgba(103,177,109,1)); }
  .num{ text-align:right; color:#e9e6dc; font-weight:700; text-shadow: 0 0 4px rgba(0,0,0,.6); }

  /* Helper: ocultar tarjeta antigua si existiera */
  .info-card{ display:none !important; }

  /* ====== BOTONES SUPERIORES DERECHA ====== */
  .btn-medieval{
    --pad-x: 14px; --pad-y: 7px;
    display:inline-block;
    padding: var(--pad-y) var(--pad-x);
    font: 800 16px/1.1 "Cinzel", serif;
    letter-spacing:.02em;
    text-decoration:none;
    position:relative; border-radius: 9px; cursor:pointer;
    transition: transform .12s ease, filter .2s ease;
    border: 1px solid transparent;
  }
  .btn-medieval.iron{
    color:#e7dcc9;
    background:
      radial-gradient(120% 200% at 50% -40%, rgba(255,255,255,.10) 0%, transparent 60%),
      linear-gradient(#5a4f45, #4a4139 55%, #3b342e 75%, #2d2722 100%);
    border-image: linear-gradient(to bottom, var(--metal-1), var(--metal-2)) 1;
    box-shadow:
      inset 0 2px 0 rgba(255,255,255,.18),
      inset 0 -2px 0 rgba(0,0,0,.45),
      0 1px 0 rgba(255,255,255,.12),
      0 10px 22px rgba(0,0,0,.5);
  }
  .btn-medieval.iron::before{
    content:""; position:absolute; inset:2px 2px 50% 2px; border-radius: 7px 7px 0 0;
    background: linear-gradient( to bottom, rgba(255,255,255,.25), rgba(255,255,255,0) 80% );
    pointer-events:none; mix-blend-mode: screen;
  }
  .btn-medieval:hover{ filter: brightness(1.05); transform: translateY(-1px); }
  .btn-medieval:active{ transform: translateY(1px); }

  .top-actions{
    position:fixed; top:12px; right:12px; z-index:5;
    display:flex; gap:10px; align-items:center;
  }
  </style>
</head>
<body>
  <div class="app">
    <!-- Retratos -->
    <aside class="tabla-personajes-malos">
      <img src="personsajes3Dmalos/mago_malvado.png"       alt="Mago"   class="perfil" data-target="mago-3d">
      <img src="personsajes3Dmalos/duende_perfil.png"      alt="Duende" class="perfil" data-target="duende-3d">
      <img src="personsajes3Dmalos/perfil_dragon.png"      alt="Dragón" class="perfil" data-target="dragon-3d">
      <img src="personsajes3Dmalos/perfil_ada_malvada.png" alt="Hada"   class="perfil" data-target="ada-3d">
      <img src="personsajes3Dmalos/ogro-perfil.png"        alt="Orco"   class="perfil" data-target="orco-3d">
      <img src="personsajes3Dmalos/perfil-bruja.png"       alt="Bruja"  class="perfil" data-target="bruja-3d">
    </aside>

    <!-- Visor -->
    <main class="viewer-area">
      <!-- Fondo de video -->
      <video class="bg-video" autoplay muted loop playsinline preload="auto">
        <source src="personsajes3Dmalos/fondo-antagonistas.mp4" type="video/mp4">
      </video>

      <!-- Modelos 3D -->
      <model-viewer id="dragon-3d" src="personsajes3Dmalos/deathwing/scene.gltf" auto-rotate></model-viewer>
      <model-viewer id="mago-3d"   src="personsajes3Dmalos/wizard_rpg_lowpoly/scene.gltf" auto-rotate></model-viewer>
      <model-viewer id="duende-3d" src="personsajes3Dmalos/updated_dobby_the_free_house_elf_-_retextured/scene.gltf" auto-rotate></model-viewer>
      <model-viewer id="orco-3d"   src="personsajes3Dmalos/ogro/scene.gltf" auto-rotate></model-viewer>
      <model-viewer id="ada-3d"    src="personsajes3Dmalos/dark_elf/scene.gltf" auto-rotate></model-viewer>
      <!-- Si tu carpeta tiene espacios, usa %20 o renómbrala -->
      <model-viewer id="bruja-3d"  src="personsajes3Dmalos/witch%20(1)/scene.gltf" auto-rotate></model-viewer>

      <!-- HUD Medieval -->
      <section class="hud" id="hud">
        <div class="rivets"></div>

        <!-- Izquierda: nombre/rol -->
        <div class="info-left">
          <div class="name" id="hud-nombre">Dragón de Fuego</div>
          <div class="role" id="hud-rol">Antagonista</div>
        </div>

        <!-- Centro: pergamino -->
        <div class="scroll">
          <p class="desc" id="hud-desc" style="margin:0">
            Antiguo guardián de lava; su rugido hace temblar la tierra.
          </p>
        </div>

        <!-- Derecha: stats con íconos -->
        <div class="stats">
          <div class="stat">
            <!-- Espada -->
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M14.1 3l6.9 6.9-2.1 2.1-2-2-3.2 3.2 2 2-2.1 2.1-2-2-3.2 3.2-2.8-2.8 3.2-3.2-2-2L7.9 7 10 9.1 13.2 6l-2-2L13.3 1l.8.8z"/></svg>
            <span class="label">Fuerza</span>
            <i class="bar"><b id="bar-fuerza" class="v-fue"></b></i>
            <span class="num" id="num-fuerza">0</span>
          </div>
          <div class="stat">
            <!-- Bastón -->
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M11 2a4 4 0 014 4c0 1.1-.45 2.1-1.18 2.83l-7.6 7.6a3 3 0 00-.72 1.16l-.83 2.5a1 1 0 01-1.9-.63l.84-2.52c.2-.6.54-1.14.98-1.58l7.6-7.6c.38-.38.6-.9.6-1.46A2 2 0 0011 4a2 2 0 00-2 2 1 1 0 11-2 0 4 4 0 014-4z"/></svg>
            <span class="label">Magia</span>
            <i class="bar"><b id="bar-magia" class="v-mag"></b></i>
            <span class="num" id="num-magia">0</span>
          </div>
          <div class="stat">
            <!-- Alas -->
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 4c-4 0-6 4-10 5 2 2 6 2 8 1-4 2-5 5-5 10 3-3 6-4 9-4s6 1 9 4c0-5-1-8-5-10 2 1 6 1 8-1-4-1-6-5-10-5z"/></svg>
            <span class="label">Agilidad</span>
            <i class="bar"><b id="bar-agilidad" class="v-agi"></b></i>
            <span class="num" id="num-agilidad">0</span>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- ===== Acciones superiores (derecha) ===== -->
  <div class="top-actions">
    <a href="index.html" class="btn-medieval iron" title="Volver a la principal">← Principal</a>
    <button id="toggle-bgm" class="btn-medieval iron" aria-pressed="false" title="Música">Música: OFF</button>
  </div>

  <!-- AUDIO DE FONDO (cambia la ruta a tu pista) -->
  <audio id="bgm" loop preload="auto">
    <source src="personsajes3Dmalos/audio para villanos.mp3" type="audio/mpeg">
    <!-- <source src="personsajes3Dmalos/audio-ambiente.ogg" type="audio/ogg"> -->
  </audio>

  <script>
  // ================== LÓGICA DE PÁGINA (YA LA TENÍAS) ==================
  const DATA = {
    "dragon-3d": { nombre:"Dragón de Fuego", rol:"Antagonista", fuerza:98, magia:75, agilidad:60,
      desc:"Antiguo guardián de lava; su rugido hace temblar la tierra. Devora ejércitos al caer la noche." },
    "mago-3d":   { nombre:"Mago Malvado", rol:"Hechicero oscuro", fuerza:40, magia:95, agilidad:55,
      desc:"Maestro de artes prohibidas. Sus pactos le otorgan poder, a cambio de almas inocentes." },
    "duende-3d": { nombre:"Duende Sombrío", rol:"Tramposo", fuerza:35, magia:60, agilidad:90,
      desc:"Sigiloso y mordaz. Envenena la mente antes que el acero." },
    "orco-3d":   { nombre:"Orco Guerrero", rol:"Berserker", fuerza:90, magia:10, agilidad:50,
      desc:"Martillo en mano, rompe barreras y voluntades. Puro músculo y furia." },
    "ada-3d":    { nombre:"Hada Oscura", rol:"Hechicera feérica", fuerza:25, magia:88, agilidad:85,
      desc:"Belleza letal. Encanta, engaña y sentencia con maldiciones antiguas." },
    "bruja-3d":  { nombre:"Bruja del Abismo", rol:"Conjuradora oscura", fuerza:30, magia:92, agilidad:70,
      desc:"Teje maldiciones y invoca sombras. Su risa apaga antorchas y su mirada hiela la sangre." }
  };

  const perfiles = document.querySelectorAll('.perfil');
  const viewers  = [...document.querySelectorAll('model-viewer')];

  const elNombre = document.getElementById('hud-nombre');
  const elRol    = document.getElementById('hud-rol');
  const elDesc   = document.getElementById('hud-desc');
  const bF = document.getElementById('bar-fuerza');
  const bM = document.getElementById('bar-magia');
  const bA = document.getElementById('bar-agilidad');
  const nF = document.getElementById('num-fuerza');
  const nM = document.getElementById('num-magia');
  const nA = document.getElementById('num-agilidad');

  function setBars(f,m,a){
    bF.style.width = f + '%'; bF.dataset.v = f; nF.textContent = f;
    bM.style.width = m + '%'; bM.dataset.v = m; nM.textContent = m;
    bA.style.width = a + '%'; bA.dataset.v = a; nA.textContent = a;
  }

  function mostrar(id){
    viewers.forEach(v => v.classList.toggle('visible', v.id === id));
    perfiles.forEach(p => p.classList.toggle('activo', p.dataset.target === id));
    const d = DATA[id]; if(!d) return;
    elNombre.textContent = d.nombre;
    elRol.textContent    = d.rol;
    elDesc.textContent   = d.desc;
    setBars(d.fuerza, d.magia, d.agilidad);
  }

  perfiles.forEach(p => p.addEventListener('click', () => mostrar(p.dataset.target)));
  mostrar('dragon-3d');

  // ================== MÚSICA: BOTÓN SUPERIOR ==================
  const bgm = document.getElementById('bgm');
  const btnMusic = document.getElementById('toggle-bgm');

  btnMusic.addEventListener('click', async () => {
    try{
      if (bgm.paused){
        await bgm.play();
        btnMusic.setAttribute('aria-pressed','true');
        btnMusic.textContent = 'Música: ON';
      } else {
        bgm.pause();
        btnMusic.setAttribute('aria-pressed','false');
        btnMusic.textContent = 'Música: OFF';
      }
    }catch(e){
      console.warn('Audio error:', e);
    }
  });
  </script>
</body>
</html>
